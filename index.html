<!DOCTYPE html>
<html lang="ko" class="antialiased">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>DataTables </title>
    <meta name="description" content="">
    <meta name="keywords" content="">
    <link href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css" rel="stylesheet">
    <link href="https://cdn.datatables.net/responsive/2.2.3/css/responsive.dataTables.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&display=swap" rel="stylesheet">

    <style>
        /*Overrides for Tailwind CSS */
        body {
            font-family: 'Nanum Gothic', sans-serif !important;
        }

    </style>
    <link rel="stylesheet" href="resources/jquery/jquery-ui/jquery-ui.css">
    <link rel="stylesheet" href="resources/jquery/jquery-ui/jquery-ui.structure.css">
    <link rel="stylesheet" href="css/tailwind/tailwind.min.css">

</head>

<body class="bg-gray-100 text-gray-900 tracking-wider leading-normal">


<!--Container-->
<div class="container w-full md:w-4/5 xl:w-3/5  mx-auto px-2">

    <!--Card-->
    <div id='recipients' class="p-8 mt-6 lg:mt-0 rounded shadow bg-white">

        <div class="bg-clip-border p-6 bg-violet-600 border-4 border-violet-300 border-dashed">
            <span class="draggable bg-gray-100 text-gray-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-gray-700 dark:text-gray-400 border border-gray-500">Dark</span>
        </div>

        <div class="" style="margin-top: 20px"></div>

        <div id="tgt">
        </div>
    </div>
    <!--/Card-->


</div>
<!--/container-->

<!--Datatables -->
<script src="resources/jquery/jquery-3.6.3.js"></script>
<script src="resources/dataTables/datatables.js"></script>
<script src="resources/jquery/jquery-ui/jquery-ui.js"></script>
<script src="https://cdn.datatables.net/responsive/2.2.3/js/dataTables.responsive.min.js"></script>
<script src="resources/dataTables/ColReorder-1.6.1/js/dataTables.colReorder.js"></script>
<script src="resources/nlib/noel.jslib.js"></script>
<script src="resources/nlib/noel.pivot.js"></script>
<script>

    let _dt, _dtAttr = {};

    let fn_drawTable = (targetId) => {

        targetId = targetId ?? 'example';

        _dt?.destroy();
        $("#"+_dtAttr.selector).empty();

        _dtAttr.selector = targetId;
        _dt = $('#'+_dtAttr.selector).DataTable({
            columns: [..._dtAttr.columns],
            data: $.extend(true, _dtAttr.data),
            responsive: true,
            colReorder: true,
            paging : false,
            searching : false
        });

        _dt.columns.adjust().responsive.recalc();
    }

    let fn_setDefaultAttr = () => {

        _dtAttr.columns = [
            { data: 'name', title : 'NAME'},
            { data: 'position', title : 'POSITION'},
            { data: 'salary', title : 'SALARY'},
            { data: 'office', title : 'OFFICE'},
            { data: 'start_date', title : 'START_DATE'},
            { data: 'extn', title : 'EXTN'}
        ];
        _dtAttr.data = [
            {
                "name": "Tiger Nixon",
                "position": "System Architect",
                "salary": "$3,120",
                "start_date": "2011/04/25",
                "office": "Edinburgh",
                "extn": "5421"
            },
            {
                "name": "Garrett Winters",
                "position": "Director",
                "salary": "$5,300",
                "start_date": "2011/07/25",
                "office": "Edinburgh",
                "extn": "8422"
            }
        ]
    }

    /*
     * @param {node} el
     */
    let fn_addCol = (el) => {
        _dtAttr.columns.push({name: el.textContent, title: el.textContent, mData : el.textContent, sTitle : el.textContent})
        // _dtAttr.data.map((m)=> m["test"] = "test")
    }
    $(document).ready(function () {

        // fn_setDefaultAttr();
        // fn_drawTable();
        //
        // $(_dt.table().header()).droppable({
        //     accept : ".draggable",
        //     classes : {
        //         "ui-droppable-hover": "bg-clip-border p-6 bg-violet-600 border-4 border-violet-300 border-dashed"
        //     },
        //     drop: function( event, ui ) {
        //         console.log(event)
        //         console.log(ui)
        //     }
        // })

        $(".draggable").draggable({revert: true});
    });
</script>

</body>

</html>
